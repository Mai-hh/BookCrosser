graph TD
    Start(开始) --> ReceiveNewBook[图书馆收到新图书]
    ReceiveNewBook --> CheckDuplication{检查是否为重复图书}
    CheckDuplication --> |是| UpdateBookCopies[更新现有图书的复本信息]
    CheckDuplication --> |否| CreateBibliographicRecord[创建书目记录]
    UpdateBookCopies --> ProcessPhysicalBook[处理实体图书]
    CreateBibliographicRecord --> CatalogingType{选择编目方式}
    CatalogingType --> |原始编目| OriginalCataloging[进行原始编目]
    CatalogingType --> |复制编目| CopyCataloging[进行复制编目]
    OriginalCataloging --> |书目数据| EnterBibliographicData[录入书目数据]
    CopyCataloging --> |书目数据| ImportBibliographicData[导入书目数据]
    EnterBibliographicData & ImportBibliographicData --> EnterHoldingsData[录入馆藏数据]
    EnterHoldingsData --> AssignCallNumber[分配索书号]
    AssignCallNumber --> SendForProcessing[送交图书加工]
    ProcessPhysicalBook --> PhysicalProcessing[图书加工]
    PhysicalProcessing --> QualityCheck{质检}
    QualityCheck --> |未通过| UpdateCatalogingData[更新编目数据]
    QualityCheck --> |通过| ApproveRecord[审核通过书目记录]
    UpdateCatalogingData --> QualityCheck
    SendForProcessing --> |实体图书| PhysicalProcessing
    ApproveRecord --> UpdateCatalog[更新图书馆目录]
    UpdateCatalog --> ShelfReadyBook[上架图书]
    ShelfReadyBook --> End(结束)
