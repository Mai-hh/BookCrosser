@startuml
start
:开始登录;
:尝试使用JWT自动登录;
if (JWT有效?) then (yes)
  :JWT存储在客户端使用MMKV;
  :返回登录成功;
else (no)
  :提示用户输入邮箱;
  :提示用户输入密码;
  :提交登录信息;
  if (邮箱和密码是否正确?) then (yes)
    :生成新JWT;
    :使用MMKV存储新JWT至客户端;
    :返回登录成功及新JWT;
  else (no)
    :显示错误信息 "邮箱或密码错误";
  endif
endif
stop
@enduml