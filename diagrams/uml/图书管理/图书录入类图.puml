@startuml
class BookEntryActivity {
    - bookEntryFragment: BookEntryFragment
    - bookEntryViewModel: BookEntryViewModel
    + onCreate()
    + onBookEntrySuccess()
    + onBookEntryFailure(errorMessage: String)
}

class BookEntryFragment {
    - bookEntryViewModel: BookEntryViewModel
    + onCreateView()
    + onIsbnEntered(isbn: String)
    + onBookInfoSubmitted(bookInfo: BookInfo)
    + showBookInfo(bookInfo: BookInfo)
    + showEntrySuccessMessage()
    + showEntryFailureMessage(errorMessage: String)
}

class BookEntryViewModel {
    - bookService: BookService
    - isbnService: IsbnService
    + fetchBookInfo(isbn: String)
    + submitBookInfo(bookInfo: BookInfo)
    + onBookInfoRetrieved(bookInfo: BookInfo)
    + onBookInfoRetrievalFailed()
    + onBookEntrySaved()
    + onBookEntrySaveFailed(errorMessage: String)
}

interface BookService {
    + addBook(bookInfo: BookInfo): Boolean
}

class BookServiceImpl {
    - bookRepository: BookRepository
    + addBook(bookInfo: BookInfo): Boolean
}

interface IsbnService {
    + getBookInfoByIsbn(isbn: String): BookInfo
}

class IsbnServiceImpl {
    + getBookInfoByIsbn(isbn: String): BookInfo
}

interface BookRepository {
    + save(book: Book): Boolean
}

class BookRepositoryImpl {
    + save(book: Book): Boolean
}

class Book {
    - id: Long
    - isbn: String
    - title: String
    - author: String
    - publisher: String
    - publicationDate: Date
    - description: String
    - coverImage: String
}

class BookInfo {
    - isbn: String
    - title: String
    - author: String
    - publisher: String
    - publicationDate: Date
    - description: String
    - coverImage: String
}

BookEntryActivity *-- BookEntryFragment
BookEntryActivity *-- BookEntryViewModel
BookEntryFragment --> BookEntryViewModel
BookEntryViewModel --> BookService
BookEntryViewModel --> IsbnService
BookServiceImpl ..|> BookService
BookServiceImpl --> BookRepository
IsbnServiceImpl ..|> IsbnService
BookRepositoryImpl ..|> BookRepository
BookRepositoryImpl --> Book
BookEntryFragment ..> BookInfo
BookEntryViewModel ..> BookInfo
IsbnServiceImpl ..> BookInfo
Book --> BookInfo
@enduml