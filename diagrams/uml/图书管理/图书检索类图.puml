@startuml
class BookSearchActivity {
    - bookSearchFragment: BookSearchFragment
    - bookSearchViewModel: BookSearchViewModel
}

class BookSearchFragment {
    - bookSearchViewModel: BookSearchViewModel
}

class BookSearchViewModel {
    - bookService: BookService
    - categoryService: CategoryService
}

interface BookService {
    + searchBooks(keyword: String, conditions: Map<String, Object>): List<Book>
    + searchBooksByCategory(keyword: String, categoryId: Long): List<Book>
}

class BookServiceImpl {
    - bookRepository: BookRepository
}

interface CategoryService {
    + getCategories(): List<Category>
}

class CategoryServiceImpl

interface BookRepository {
    + findByKeywordAndConditions(keyword: String, conditions: Map<String, Object>): List<Book>
}

class BookRepositoryImpl

class Book

class Category

BookSearchActivity *-- BookSearchFragment
BookSearchActivity *-- BookSearchViewModel
BookSearchFragment --> BookSearchViewModel
BookSearchViewModel --> BookService
BookSearchViewModel --> CategoryService
BookServiceImpl ..|> BookService
BookServiceImpl --> BookRepository
CategoryServiceImpl ..|> CategoryService
BookRepositoryImpl ..|> BookRepository
BookRepositoryImpl --> Book
Book "1" *-- "*" Category
@enduml