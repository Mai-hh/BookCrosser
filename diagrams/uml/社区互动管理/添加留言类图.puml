@startuml
class MessageActivity {
    - messageFragment: MessageFragment
}

class MessageFragment {
    - messageViewModel: MessageViewModel
}

class MessageViewModel {
    - messageService: MessageService
    + createEmptyMessage(): Message
    + addMessage(message: Message): Message
}

interface MessageService {
    + addMessage(message: Message): Message
}

class MessageServiceImpl {
    - messageRepository: MessageRepository
}

interface MessageRepository {
    + save(message: Message): Message
}

class MessageRepositoryImpl

class Message

MessageActivity *-- MessageFragment
MessageFragment --> MessageViewModel
MessageViewModel --> MessageService
MessageServiceImpl ..|> MessageService
MessageServiceImpl --> MessageRepository
MessageRepositoryImpl ..|> MessageRepository
MessageRepositoryImpl --> Message
@enduml